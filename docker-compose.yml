version: "3.9"

services:
  bot:
    build: .
    container_name: ocr_tg_bot${NAME_SUFFIX:-}
    restart: unless-stopped
    env_file:
      - ./bot/.env
    volumes:
      # Общий именованный том для логов и моделей ML
      - ml_output:/app/ml_output
      # Локальная папка с фото на хосте -> внутрь контейнера
      - /ocr_tg/photos:/app/photos
    # При необходимости укажи URL бэкенда в .env (AI_API_BASE и т.п.)

volumes:
  ml_output:
    external: true
    name: ml_output
